<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Campus Locations</title>
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.8.1/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.8.1/mapbox-gl.css" rel="stylesheet">
    <style>
        /* Add your CSS styles here */
        ul {
            list-style-type: none;
            padding: 0;
        }
        li {
            margin-bottom: 10px;
        }
        #map {
            width:100vw;
            height:60vh;
        }
    </style>
</head>
<body>
    <h1>Select Campus Location</h1>
    <p>Please select a campus location from the list below:</p>

    <form id="campusForm">
        <select id="campusSelect" onchange="showLocation()">
            <option value="" selected disabled>Select a Location</option>
            <option value="location1">Location 1</option>
            <option value="location2">Location 2</option>
            <option value="location3">Location 3</option>
            <!-- Add more location options as needed -->
        </select>
    </form>

    <div id="locationInfo" style="display: none;">
        <!-- Location information will be displayed here -->
        <h2>Location Details</h2>
        <ul>
            <li><strong>Location:</strong> <span id="locationName"></span></li>
            <li><strong>Description:</strong> <span id="locationDescription"></span></li>
            <!-- Add more details about the location as needed -->
        </ul>
    </div>

    <script>
        function showLocation() {
            var selectedLocation = document.getElementById("campusSelect").value;
            var locationInfo = document.getElementById("locationInfo");
            var locationNameSpan = document.getElementById("locationName");
            var locationDescriptionSpan = document.getElementById("locationDescription");

            // Define details for each location
            var locationDetails = {
                "location1": {name: "Location 1", description: "Description of Location 1"},
                "location2": {name: "Location 2", description: "Description of Location 2"},
                "location3": {name: "Location 3", description: "Description of Location 3"}
                // Add more locations and their descriptions as needed
            };

            if (selectedLocation in locationDetails) {
                locationNameSpan.textContent = locationDetails[selectedLocation].name;
                locationDescriptionSpan.textContent = locationDetails[selectedLocation].description;
                locationInfo.style.display = "block";
            } else {
                locationInfo.style.display = "none";
            }
        }
</script>



<div id="map"></div>

<script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiMTg0NDUxai1ueXAiLCJhIjoiY2xzc3Q1cnQ4MTluOTJrcW1zODBmZXh3byJ9.udDssIarSHnvW1rxY6Yc-g';

    const map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v11',
        center: [-3.53229913559922,50.73552940649972], 
        zoom: 15,
        pitch:10,
    });

    map.on('load', () => {
        map.addLayer({
            'id': '3d-buildings',
            'source': 'composite',
            'source-layer': 'building',
            'filter': ['==', 'extrude', 'true'],
            'type': 'fill-extrusion',
            'minzoom': 15,
            'paint': {
                'fill-extrusion-color': '#aaa',
                'fill-extrusion-height': [
                    'interpolate', ['linear'], ['zoom'],
                    15, 0,
                    15.05, ['get', 'height']
                ],
                'fill-extrusion-base': [
                    'interpolate', ['linear'], ['zoom'],
                    15, 0,
                    15.05, ['get', 'min_height']
                ],
                'fill-extrusion-opacity': 0.6
            },
            //'filter': ['==', ['id'], 27315944] highlights only the amory building
        });

        map.on('click', '3d-buildings', function (e) {
            if (e.features.length > 0) {
                const clickedFeature = e.features[0];
                const buildingId = clickedFeature.id;
                console.log("Clicked Building ID:", buildingId);
            }
        });
    });
</script>

</body>
</html>